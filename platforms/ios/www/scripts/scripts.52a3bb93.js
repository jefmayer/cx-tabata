"use strict";var app=angular.module("cxTabataApp",["ngAnimate","ngResource","ngRoute","ngSanitize","ngTouch"]);app.run(function(){}),app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/workout.html",controller:"WorkoutCtrl"}).when("/setup",{templateUrl:"views/setup.html",controller:"SetupCtrl"}).when("/workout",{templateUrl:"views/workout.html",controller:"WorkoutCtrl"}).when("/summary",{templateUrl:"views/summary.html",controller:"SummaryCtrl"}).otherwise({redirectTo:"/"})}]);var storage=function(){};storage.data={workouts:[{name:"",time:1800,segments:[{time:420,desc:"7 minutes easy."},{time:60,desc:"Increase by one gear"},{time:60,desc:"Increase by one gear"},{time:60,desc:"Increase by one gear"},{time:60,desc:"Increase by one gear"},{time:60,desc:"Increase by one gear"},{time:60,desc:"Increase by one gear"},{time:60,desc:"Increase by one gear"},{time:60,desc:"Increase by one gear"},{time:300,desc:"5 minutes easy"},{time:20,desc:"Tabata Intense"},{time:10,desc:"Tabata Recovery"},{time:20,desc:"Tabata Intense"},{time:10,desc:"Tabata Recovery"},{time:20,desc:"Tabata Intense"},{time:10,desc:"Tabata Recovery"},{time:20,desc:"Tabata Intense"},{time:10,desc:"Tabata Recovery"},{time:20,desc:"Tabata Intense"},{time:10,desc:"Tabata Recovery"},{time:20,desc:"Tabata Intense"},{time:10,desc:"Tabata Recovery"},{time:20,desc:"Tabata Intense"},{time:10,desc:"Tabata Recovery"},{time:20,desc:"Tabata Intense"},{time:10,desc:"Tabata Recovery"},{time:360,desc:"6 minutes easy"}]}]},app.controller("SetupCtrl",["$scope",function(a){console.log(a)}]),app.controller("WorkoutCtrl",["$scope","$rootScope",function(a,b){function c(a,b,c,d,e,f,g,h,i){void 0===g&&(g=128),void 0===h&&(h=127),void 0===i&&(i=50);for(var j=0;i>j;++j){var k=Math.round(Math.sin(a*j+d)*h+g),l=Math.round(Math.sin(b*j+e)*h+g),m=Math.round(Math.sin(c*j+f)*h+g);n.push("rgba("+k+","+l+","+m+",1)")}}function d(){g+=100,(g===i+k*l||h)&&(h=!1,k=parseInt(b.data.segments[j].time),i=g,a.$apply(function(){a.segment.desc=b.data.segments[j].desc,a.next.desc=b.data.segments[j+1].desc}),j+=1),a.$apply(function(){a.total.mins=e(Math.floor(g/m)),a.total.secs=e(Math.floor(g%m/l)),a.total.msecs=Math.floor(g%l)/100;var c=i+k*l-g;a.segment.mins=e(Math.floor(c/m)),a.segment.secs=e(Math.floor(c%m/l)),a.segment.msecs=Math.floor(c%l)/100,g%1e4===0&&(b.bgColor=n[o],o+=1,o===n.length&&(o=0))}),g===p&&clearInterval(f)}function e(a){return a+="",a.length<2?"0"+a:a}b.data=storage.data.workouts[0],b.bgColor="rgba(255,255,255,1)",a.segment={mins:"00",secs:"00",msecs:"0",desc:""},a.total={mins:"00",secs:"00",msecs:"0"},a.next={desc:""};var f,g=0,h=!0,i=0,j=0,k=0,l=1e3,m=60*l,n=[],o=0,p=b.data.time*l;c(.3,.3,.3,0,2,4),b.bgColor=n[0],f=setInterval(d,100)}]),app.controller("SummaryCtrl",["$scope",function(a){console.log(a)}]);